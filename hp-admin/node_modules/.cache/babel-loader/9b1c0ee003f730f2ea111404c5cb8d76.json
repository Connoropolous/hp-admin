{"ast":null,"code":"import _slicedToArray from \"/home/lisa/Documents/gitrepos/holochain/holo/happyTeam/hp-admin/hp-admin/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lisa/Documents/gitrepos/holochain/holo/happyTeam/hp-admin/hp-admin/src/pages/BrowseHapps/BrowseHapps.js\";\nimport React from 'react';\nimport { isEmpty } from 'lodash/fp';\nimport HappThumbnail from 'components/HappThumbnail';\nimport HostButton from 'components/HostButton';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport \"./BrowseHapps.module.css\";\nimport Header from 'components/Header';\nimport Button from 'components/Button';\nvar HappsQuery = { kind: \"Document\", definitions: [{ kind: \"OperationDefinition\", operation: \"query\", name: { kind: \"Name\", value: \"HappsQuery\" }, variableDefinitions: [], directives: [], selectionSet: { kind: \"SelectionSet\", selections: [{ kind: \"Field\", name: { kind: \"Name\", value: \"happs\" }, arguments: [], directives: [], selectionSet: { kind: \"SelectionSet\", selections: [{ kind: \"Field\", name: { kind: \"Name\", value: \"id\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"title\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"description\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"thumbnailUrl\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"homepageUrl\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"dnaHash\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"ui\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"happStoreId\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"isEnabled\" }, arguments: [], directives: [] }] } }] } }], loc: { start: 0, end: 150, source: { body: \"query HappsQuery {\\n  happs {\\n    id\\n    title\\n    description\\n    thumbnailUrl\\n    homepageUrl\\n    dnaHash\\n    ui\\n    happStoreId\\n    isEnabled\\n  }\\n}\\n\", name: \"GraphQL request\", locationOffset: { line: 1, column: 1 } } } };\nvar EnableHappMutation = { kind: \"Document\", definitions: [{ kind: \"OperationDefinition\", operation: \"mutation\", name: { kind: \"Name\", value: \"EnableHapp\" }, variableDefinitions: [{ kind: \"VariableDefinition\", variable: { kind: \"Variable\", name: { kind: \"Name\", value: \"appId\" } }, type: { kind: \"NamedType\", name: { kind: \"Name\", value: \"String\" } }, directives: [] }], directives: [], selectionSet: { kind: \"SelectionSet\", selections: [{ kind: \"Field\", name: { kind: \"Name\", value: \"enableHapp\" }, arguments: [{ kind: \"Argument\", name: { kind: \"Name\", value: \"appId\" }, value: { kind: \"Variable\", name: { kind: \"Name\", value: \"appId\" } } }], directives: [], selectionSet: { kind: \"SelectionSet\", selections: [{ kind: \"Field\", name: { kind: \"Name\", value: \"id\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"title\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"happStoreId\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"isEnabled\" }, arguments: [], directives: [] }] } }] } }], loc: { start: 0, end: 122, source: { body: \"mutation EnableHapp ($appId: String) {\\n  enableHapp(appId: $appId) {\\n    id\\n    title\\n    happStoreId\\n    isEnabled\\n  }\\n}\\n\", name: \"GraphQL request\", locationOffset: { line: 1, column: 1 } } } };\nvar DisableHappMutation = { kind: \"Document\", definitions: [{ kind: \"OperationDefinition\", operation: \"mutation\", name: { kind: \"Name\", value: \"DisableHapp\" }, variableDefinitions: [{ kind: \"VariableDefinition\", variable: { kind: \"Variable\", name: { kind: \"Name\", value: \"appId\" } }, type: { kind: \"NamedType\", name: { kind: \"Name\", value: \"String\" } }, directives: [] }], directives: [], selectionSet: { kind: \"SelectionSet\", selections: [{ kind: \"Field\", name: { kind: \"Name\", value: \"disableHapp\" }, arguments: [{ kind: \"Argument\", name: { kind: \"Name\", value: \"appId\" }, value: { kind: \"Variable\", name: { kind: \"Name\", value: \"appId\" } } }], directives: [], selectionSet: { kind: \"SelectionSet\", selections: [{ kind: \"Field\", name: { kind: \"Name\", value: \"id\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"title\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"happStoreId\" }, arguments: [], directives: [] }, { kind: \"Field\", name: { kind: \"Name\", value: \"isEnabled\" }, arguments: [], directives: [] }] } }] } }], loc: { start: 0, end: 124, source: { body: \"mutation DisableHapp ($appId: String) {\\n  disableHapp(appId: $appId) {\\n    id\\n    title\\n    happStoreId\\n    isEnabled\\n  }\\n}\\n\", name: \"GraphQL request\", locationOffset: { line: 1, column: 1 } } } };\nexport default function BrowseHapps({\n  history: {\n    push\n  }\n}) {\n  const _useQuery = useQuery(HappsQuery),\n        _useQuery$data$happs = _useQuery.data.happs,\n        happs = _useQuery$data$happs === void 0 ? [] : _useQuery$data$happs;\n\n  const _useMutation = useMutation(EnableHappMutation),\n        _useMutation2 = _slicedToArray(_useMutation, 1),\n        enableHappMutation = _useMutation2[0];\n\n  const _useMutation3 = useMutation(DisableHappMutation),\n        _useMutation4 = _slicedToArray(_useMutation3, 1),\n        disableHappMutation = _useMutation4[0];\n\n  const enableHapp = appId => enableHappMutation({\n    variables: {\n      appId\n    }\n  });\n\n  const disableHapp = appId => disableHappMutation({\n    variables: {\n      appId\n    }\n  });\n\n  const goToPricing = () => push('/pricing');\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(Header, {\n    title: \"Hosting\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), !isEmpty(happs) && React.createElement(\"div\", {\n    className: \"BrowseHapps-module__happ-list___pkaK5\",\n    role: \"list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, happs.map(happ => React.createElement(HappRow, {\n    happ: happ,\n    enableHapp: enableHapp,\n    disableHapp: disableHapp,\n    key: happ.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }))), React.createElement(Button, {\n    variant: \"primary\",\n    wide: true,\n    onClick: goToPricing,\n    className: \"BrowseHapps-module__pricing-button___3T0-y\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Manage Pricing\"));\n}\nexport function HappRow({\n  happ,\n  enableHapp,\n  disableHapp\n}) {\n  const id = happ.id,\n        title = happ.title,\n        description = happ.description,\n        thumbnailUrl = happ.thumbnailUrl,\n        isEnabled = happ.isEnabled;\n  return React.createElement(\"div\", {\n    className: \"BrowseHapps-module__happ-row___3_Sp5\",\n    role: \"listitem\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(HappThumbnail, {\n    url: thumbnailUrl,\n    title: title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"BrowseHapps-module__details___3EAha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"BrowseHapps-module__title-row___2-Vu-\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"BrowseHapps-module__title___3_NPQ\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, title), React.createElement(HostButton, {\n    isEnabled: isEnabled,\n    enableHapp: () => enableHapp(id),\n    disableHapp: () => disableHapp(id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"BrowseHapps-module__description___Jb0SS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, description)));\n}","map":{"version":3,"sources":["/home/lisa/Documents/gitrepos/holochain/holo/happyTeam/hp-admin/hp-admin/src/pages/BrowseHapps/BrowseHapps.js"],"names":["React","isEmpty","HappThumbnail","HostButton","useQuery","useMutation","Header","Button","BrowseHapps","history","push","HappsQuery","data","happs","EnableHappMutation","enableHappMutation","DisableHappMutation","disableHappMutation","enableHapp","appId","variables","disableHapp","goToPricing","map","happ","id","HappRow","title","description","thumbnailUrl","isEnabled"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,qBAAtC;AACA;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;;;AAKA,eAAe,SAASC,WAAT,CAAsB;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA;AAAF;AAAX,CAAtB,EAA6C;AAAA,oBACzBN,QAAQ,CAACO,UAAD,CADiB;AAAA,yCAClDC,IADkD,CAC1CC,KAD0C;AAAA,QAC1CA,KAD0C,qCAClC,EADkC;;AAAA,uBAE7BR,WAAW,CAACS,kBAAD,CAFkB;AAAA;AAAA,QAEnDC,kBAFmD;;AAAA,wBAG5BV,WAAW,CAACW,mBAAD,CAHiB;AAAA;AAAA,QAGnDC,mBAHmD;;AAI1D,QAAMC,UAAU,GAAGC,KAAK,IAAIJ,kBAAkB,CAAC;AAAEK,IAAAA,SAAS,EAAE;AAAED,MAAAA;AAAF;AAAb,GAAD,CAA9C;;AACA,QAAME,WAAW,GAAGF,KAAK,IAAIF,mBAAmB,CAAC;AAAEG,IAAAA,SAAS,EAAE;AAAED,MAAAA;AAAF;AAAb,GAAD,CAAhD;;AAEA,QAAMG,WAAW,GAAG,MAAMZ,IAAI,CAAC,UAAD,CAA9B;;AAEA,SAAO,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACL,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,EAGJ,CAACT,OAAO,CAACY,KAAD,CAAR,IAAmB;AAAK,IAAA,SAAS,EAAC,uCAAf;AAA2B,IAAA,IAAI,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACjBA,KAAK,CAACU,GAAN,CAAUC,IAAI,IACb,oBAAC,OAAD;AACE,IAAA,IAAI,EAAEA,IADR;AAEE,IAAA,UAAU,EAAEN,UAFd;AAGE,IAAA,WAAW,EAAEG,WAHf;AAIE,IAAA,GAAG,EAAEG,IAAI,CAACC,EAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADiB,CAHf,EAYL,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,IAAI,MAA9B;AAA+B,IAAA,OAAO,EAAEH,WAAxC;AAAqD,IAAA,SAAS,EAAC,4CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZK,CAAP;AAcD;AAED,OAAO,SAASI,OAAT,CAAkB;AAAEF,EAAAA,IAAF;AAAQN,EAAAA,UAAR;AAAoBG,EAAAA;AAApB,CAAlB,EAAqD;AAAA,QAClDI,EADkD,GACED,IADF,CAClDC,EADkD;AAAA,QAC9CE,KAD8C,GACEH,IADF,CAC9CG,KAD8C;AAAA,QACvCC,WADuC,GACEJ,IADF,CACvCI,WADuC;AAAA,QAC1BC,YAD0B,GACEL,IADF,CAC1BK,YAD0B;AAAA,QACZC,SADY,GACEN,IADF,CACZM,SADY;AAE1D,SAAO;AAAK,IAAA,SAAS,EAAC,sCAAf;AAA0B,IAAA,IAAI,EAAC,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACL,oBAAC,aAAD;AAAe,IAAA,GAAG,EAAED,YAApB;AAAkC,IAAA,KAAK,EAAEF,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,EAEL;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBA,KAAzB,CADF,EAEE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAEG,SADb;AAEE,IAAA,UAAU,EAAE,MAAMZ,UAAU,CAACO,EAAD,CAF9B;AAGE,IAAA,WAAW,EAAE,MAAMJ,WAAW,CAACI,EAAD,CAHhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BG,WAA9B,CARF,CAFK,CAAP;AAaD","sourcesContent":["import React from 'react'\nimport { isEmpty } from 'lodash/fp'\nimport HappThumbnail from 'components/HappThumbnail'\nimport HostButton from 'components/HostButton'\nimport { useQuery, useMutation } from '@apollo/react-hooks'\nimport './BrowseHapps.module.css'\nimport Header from 'components/Header'\nimport Button from 'components/Button'\nimport HappsQuery from 'graphql/HappsQuery.gql'\nimport EnableHappMutation from 'graphql/EnableHappMutation.gql'\nimport DisableHappMutation from 'graphql/DisableHappMutation.gql'\n\nexport default function BrowseHapps ({ history: { push } }) {\n  const { data: { happs = [] } } = useQuery(HappsQuery)\n  const [enableHappMutation] = useMutation(EnableHappMutation)\n  const [disableHappMutation] = useMutation(DisableHappMutation)\n  const enableHapp = appId => enableHappMutation({ variables: { appId } })\n  const disableHapp = appId => disableHappMutation({ variables: { appId } })\n\n  const goToPricing = () => push('/pricing')\n\n  return <React.Fragment>\n    <Header title='Hosting' />\n\n    {!isEmpty(happs) && <div styleName='happ-list' role='list'>\n      {happs.map(happ =>\n        <HappRow\n          happ={happ}\n          enableHapp={enableHapp}\n          disableHapp={disableHapp}\n          key={happ.id} />)}\n    </div>}\n\n    <Button variant='primary' wide onClick={goToPricing} styleName='pricing-button'>Manage Pricing</Button>\n  </React.Fragment>\n}\n\nexport function HappRow ({ happ, enableHapp, disableHapp }) {\n  const { id, title, description, thumbnailUrl, isEnabled } = happ\n  return <div styleName='happ-row' role='listitem'>\n    <HappThumbnail url={thumbnailUrl} title={title} />\n    <div styleName='details'>\n      <div styleName='title-row'>\n        <span styleName='title'>{title}</span>\n        <HostButton\n          isEnabled={isEnabled}\n          enableHapp={() => enableHapp(id)}\n          disableHapp={() => disableHapp(id)} />\n      </div>\n      <div styleName='description'>{description}</div>\n    </div>\n  </div>\n}\n"]},"metadata":{},"sourceType":"module"}